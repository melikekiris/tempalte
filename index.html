<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centre Équestre Equihorizon</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        #scrollToTopBtn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: none;
            background-color: #ff8c00; /* Couleur de fond orange */
            color: white;
            border: none;
            border-radius: 50%;
            padding: 15px; /* Augmente la taille du bouton */
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* Ombre plus prononcée */
            transition: background-color 0.3s ease, transform 0.3s ease; /* Transition pour le hover et le transform */
        }

        #scrollToTopBtn:hover {
            background-color: #e67e22; /* Couleur de fond orange plus foncé au survol */
            transform: scale(1.1); /* Agrandit légèrement le bouton au survol */
        }

        .result-item {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .result-item h3 {
            margin-top: 0;
        }

        .search-results {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            max-height: 80vh;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
            z-index: 1000;
            overflow-y: auto;
        }

        .result-item {
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #eee;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .result-item:hover {
            background-color: #f9f9f9;
        }

        .highlight {
            background-color: #fff3cd;
            transition: background-color 0.5s;
        }

        .close-search {
            margin-top: 20px;
            padding: 8px 16px;
            background-color: #ff8c00;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .close-search:hover {
            background-color: #e67e22;
        }

        .view-more {
            padding: 5px 10px;
            background-color: #ff8c00;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 10px;
        }

        .no-results {
            text-align: center;
            padding: 20px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(-100%);
            }
            to {
                transform: translateX(0);
            }
        }

        .fade-in {
            animation: fadeIn 1s ease-in-out;
        }

        .slide-in {
            animation: slideIn 1s ease-in-out;
        }

        /* Ajoutez ce CSS pour styliser les nouvelles sections */
        .disciplines {
            padding: 50px 0;
            background-color: #f9f9f9;
            text-align: center;
        }

        .disciplines h2 {
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .disciplines-grid {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }

        .discipline-card {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 10px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .discipline-card:hover {
            transform: translateY(-10px);
        }

        .discipline-card img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .discipline-card h3 {
            margin: 15px 0;
            font-size: 1.5em;
        }

        .discipline-card p {
            font-size: 1em;
            color: #666;
        }

        .news {
            padding: 50px 0;
            background-color: #fff;
            text-align: center;
        }

        .news h2 {
            margin-bottom: 30px;
            font-size: 2.5em;
        }

        .news-grid {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }

        .news-card {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 10px;
            text-align: left;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }

        .news-card:hover {
            transform: translateY(-10px);
        }

        .news-card img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .news-content {
            padding: 15px 0;
        }

        .news-content h3 {
            margin: 10px 0;
            font-size: 1.5em;
        }

        .news-content p {
            font-size: 1em;
            color: #666;
        }

        .read-more {
            display: inline-block;
            margin-top: 15px;
            padding: 10px 20px;
            background-color: #ff8c00;
            color: #fff;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }

        .read-more:hover {
            background-color: #e67e22;
        }

        /* Ajoutez ce CSS pour disposer les cartes côte à côte */
        .disciplines-container,
        .news-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .disciplines-container > .discipline-card,
        .news-container > .news-card {
            flex: 1;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <ul class="nav-links">
            <li><a href="/" class="active">Accueil</a></li>
            <li><a href="/cours-stages">A propos</a></li>
            <li><a href="/pension">Cavaliers</a></li>
            <li><a href="/installations">Evènements</a></li>
            <li><a href="/actualites">Cours</a></li>
            <li><a href="/actualites">Cavalerie</a></li>
            <li><a href="/actualites">Contact</a></li>
        </ul>

        <div class="logo">
            <a href="../vue/index.html">
                <img src="../photos/equip.png" alt="Equihorizon">
            </a>
        </div>

        <div class="right-elements">
            <div class="search-container">
                <form id="searchForm" class="search-form">
                    <input type="text" id="searchInput" class="search-input" placeholder="Rechercher...">
                    <button type="submit" class="search-btn">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>
            <a href="../utilisateurs/vue.login.php" class="login-button">
                <i class="fas fa-user"></i> Espace personnel
            </a>
        </div>
    </nav>

    <header id="accueil" class="hero">
        <div class="hero-content">
            <h1>Bienvenue à Equihorizon</h1>
            <p>Centre équestre de prestige pour tous les passionnés</p>
            <a href="#contact" class="cta-button">Réserver un cours</a>
        </div>
    </header>

    <section id="about" class="about searchable fade-in">
        <div class="about-content">
            <h2>À propos de nous</h2>
            <p>Les Crins d'Or est un centre équestre de renommée, offrant des services de qualité depuis plus de 30 ans. Notre passion pour les chevaux et notre engagement envers nos clients nous distinguent.</p>
            <div class="about-features">
                <div class="feature searchable">
                    <i class="fas fa-medal"></i>
                    <h3>30 ans d'expérience</h3>
                    <p>Une expertise reconnue dans l'équitation</p>
                </div>
                <div class="feature searchable">
                    <i class="fas fa-users"></i>
                    <h3>Instructeurs certifiés</h3>
                    <p>Une équipe professionnelle à votre service</p>
                </div>
                <div class="feature searchable">
                    <i class="fas fa-horse"></i>
                    <h3>Chevaux de qualité</h3>
                    <p>Des montures adaptées à tous les niveaux</p>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="services searchable slide-in">
        <h2>Nos Services</h2>
        <div class="services-grid">
            <div class="service-card searchable">
                <i class="fas fa-horse"></i>
                <h3>Cours d'équitation</h3>
                <p>Cours particuliers et collectifs pour tous niveaux</p>
                <ul class="service-details">
                    <li>Débutants à confirmés</li>
                    <li>Cours enfants et adultes</li>
                    <li>Stages vacances</li>
                </ul>
            </div>
            <div class="service-card searchable">
                <i class="fas fa-medal"></i>
                <h3>Compétition</h3>
                <p>Préparation aux compétitions et coaching</p>
                <ul class="service-details">
                    <li>Entraînement personnalisé</li>
                    <li>Coaching en concours</li>
                    <li>Préparation mentale</li>
                </ul>
            </div>
            <div class="service-card searchable">
                <i class="fas fa-home"></i>
                <h3>Pension</h3>
                <p>Pension complète pour votre cheval</p>
                <ul class="service-details">
                    <li>Box spacieux</li>
                    <li>Sorties quotidiennes</li>
                    <li>Soins personnalisés</li>
                </ul>
            </div>
        </div>
    </section>

    <section id="installations" class="installations">
        <h2>Nos Installations</h2>
        <div class="carousel">
            <div class="carousel-item">
                <img src="../photos/rider.jpg" alt="Manège couvert">
                <div class="carousel-caption">
                    <h3>Manège couvert olympique</h3>
                    <p>Surface de 60x20m avec sol fibré</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="../photos/cap.jpg" alt="Carrière extérieure">
                <div class="carousel-caption">
                    <h3>Carrière extérieure</h3>
                    <p>Surface de 80x40m en sable de Fontainebleau</p>
                </div>
            </div>
            <!-- Ajoutez d'autres éléments de carousel ici -->
        </div>
    </section>

    <section id="tarifs" class="pricing">
        <h2>Nos Tarifs</h2>
        <div class="pricing-grid">
            <div class="pricing-card">
                <h3>Découverte</h3>
                <div class="price">30€</div>
                <p>Par séance</p>
                <ul>
                    <li>1 cours collectif</li>
                    <li>Matériel fourni</li>
                    <li>Tous niveaux</li>
                </ul>
                <a href="#contact" class="pricing-button">Réserver</a>
            </div>
            <div class="pricing-card featured">
                <h3>Forfait Mensuel</h3>
                <div class="price">99€</div>
                <p>Par mois</p>
                <ul>
                    <li>4 cours collectifs</li>
                    <li>Accès aux installations</li>
                    <li>Matériel fourni</li>
                </ul>
                <a href="#contact" class="pricing-button">Réserver</a>
            </div>
            <div class="pricing-card">
                <h3>Pension</h3>
                <div class="price">450€</div>
                <p>Par mois</p>
                <ul>
                    <li>Box standard</li>
                    <li>2 sorties/jour</li>
                    <li>Alimentation incluse</li>
                </ul>
                <a href="#contact" class="pricing-button">En savoir plus</a>
            </div>
        </div>
    </section>

    <section class="disciplines">
        <h2>Nos Disciplines</h2>
        <div class="disciplines-container">
            <div class="discipline-card">
                <img src="../photos/cap.jpg" alt="CSO">
                <h3>Saut d'obstacles</h3>
                <p>Du débutant à la compétition</p>
            </div>
            <div class="discipline-card">
                <img src="../photos/cap.jpg" alt="Dressage">
                <h3>Dressage</h3>
                <p>Maîtrise et élégance</p>
            </div>
            <div class="discipline-card">
                <img src="../photos/cap.jpg" alt="Balade">
                <h3>Balades</h3>
                <p>Nature et évasion</p>
            </div>
        </div>
    </section>

    <section class="news">
        <h2>Nos Actualités</h2>
        <div class="news-container">
            <article class="news-card" data-aos="fade-up">
                <img src="../photos/rider.jpg" alt="Stage d'été">
                <div class="news-content">
                    <h3>Stages d'été 2024</h3>
                    <p>Découvrez notre programme complet de stages pour cet été.
                       Du débutant au confirmé, il y en a pour tous les niveaux !</p>
                    <a href="stages.php" class="read-more">En savoir plus</a>
                </div>
            </article>

            <article class="news-card" data-aos="fade-up" data-aos-delay="100">
                <img src="../photos/rider.jpg" alt="Compétition">
                <div class="news-content">
                    <h3>Concours CSO - 15 Juin</h3>
                    <p>Participez à notre prochain concours de saut d'obstacles.
                       Épreuves Club et Amateur au programme.</p>
                    <a href="competitions.php" class="read-more">En savoir plus</a>
                </div>
            </article>

            <article class="news-card" data-aos="fade-up" data-aos-delay="200">
                <img src="../photos/rider.jpg" alt="Nouveau pensionnaire">
                <div class="news-content">
                    <h3>Nouveau Pensionnaire</h3>
                    <p>Découvrez notre nouvelle recrue : Éclair, un magnifique Pure-sang
                       Espagnol qui rejoint notre cavalerie.</p>
                    <a href="cavalerie.php" class="read-more">En savoir plus</a>
                </div>
            </article>
        </div>
    </section>

    <section id="contact" class="contact searchable">
        <h2>Contactez-nous</h2>
        <div class="contact-container">
            <form class="contact-form">
                <input type="text" placeholder="Nom" required>
                <input type="email" placeholder="Email" required>
                <select required>
                    <option value="">Choisir un service</option>
                    <option value="cours">Cours d'équitation</option>
                    <option value="pension">Pension</option>
                    <option value="competition">Compétition</option>
                </select>
                <textarea placeholder="Message" required></textarea>
                <button type="submit">Envoyer</button>
            </form>
            <div class="contact-info searchable">
                <h3>Informations</h3>
                <p><i class="fas fa-map-marker-alt"></i> 123 Rue des Écuries, 75000 Paris</p>
                <p><i class="fas fa-phone"></i> 01 23 45 67 89</p>
                <p><i class="fas fa-envelope"></i> contact@crinsdor.fr</p>
                <div class="opening-hours">
                    <h4>Horaires d'ouverture</h4>
                    <p>Lundi - Samedi : 8h - 20h</p>
                    <p>Dimanche : 9h - 18h</p>
                </div>
                <div class="map">
                    <!-- Intégrez ici votre carte Google Maps -->
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2624.9916256937586!2d2.2922926156744775!3d48.858370079287466!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66e2964e34e2d%3A0x8ddca9ee380ef7e0!2sTour%20Eiffel!5e0!3m2!1sfr!2sfr!4v1647874587201!5m2!1sfr!2sfr"
                        width="100%"
                        height="300"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy">
                    </iframe>
                </div>
            </div>
        </div>
    </section>

    <section id="search-results" class="search-results" style="display: none;">
        <div class="container">
            <h2>Résultats de recherche pour : <span id="searchQuery"></span></h2>
            <div id="resultsContainer"></div>
            <button id="closeSearch" class="close-search">Fermer les résultats</button>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>Equihorizon</h4>
                <p>Centre équestre de qualité depuis 1990</p>
            </div>
            <div class="footer-section">
                <h4>Liens rapides</h4>
                <ul>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#installations">Installations</a></li>
                    <li><a href="#tarifs">Tarifs</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Suivez-nous</h4>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Equihorizon- Tous droits réservés</p>
        </div>
    </footer>

    <button id="scrollToTopBtn" title="Haut de page">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            console.log("Document chargé et DOM complètement analysé");

            // Afficher le bouton lorsque l'utilisateur fait défiler la page vers le bas de 20px
            window.onscroll = function() {
                scrollFunction();
            };

            function scrollFunction() {
                console.log("Fonction scrollFunction appelée");
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    document.getElementById("scrollToTopBtn").style.display = "block";
                } else {
                    document.getElementById("scrollToTopBtn").style.display = "none";
                }
            }

            // Faire défiler la page vers le haut de manière fluide lorsque l'utilisateur clique sur le bouton
            document.getElementById("scrollToTopBtn").addEventListener("click", function() {
                console.log("Bouton scrollToTopBtn cliqué");
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Amélioration de la recherche
            document.getElementById("searchForm").addEventListener("submit", function(event) {
                event.preventDefault();
                const query = document.getElementById("searchInput").value.toLowerCase().trim();

                if (query.length < 2) {
                    alert("Veuillez entrer au moins 2 caractères pour la recherche");
                    return;
                }

                const searchResults = document.getElementById('search-results');
                const resultsContainer = document.getElementById('resultsContainer');
                const searchQuery = document.getElementById('searchQuery');

                resultsContainer.innerHTML = '';
                searchQuery.textContent = query;
                searchResults.style.display = 'block';

                // Sections à rechercher
                const searchableContent = document.querySelectorAll('.searchable');
                let foundResults = false;

                searchableContent.forEach(element => {
                    const text = element.textContent.toLowerCase();
                    if (text.includes(query)) {
                        foundResults = true;
                        const resultItem = createResultItem(element, query);
                        resultsContainer.appendChild(resultItem);
                    }
                });

                if (!foundResults) {
                    resultsContainer.innerHTML = `
                        <div class="no-results">
                            <p>Aucun résultat trouvé pour "${query}"</p>
                            <p>Essayez avec d'autres mots-clés</p>
                        </div>
                    `;
                }

                // Scroll vers les résultats
                searchResults.scrollIntoView({ behavior: 'smooth' });
            });

            // Fonction pour créer un élément de résultat
            function createResultItem(element, query) {
                const resultElement = document.createElement('div');
                resultElement.classList.add('result-item');

                const title = element.querySelector('h2, h3')?.textContent || 'Résultat';
                const content = element.textContent.trim();

                // Créer un extrait avec le contexte autour du terme recherché
                const excerpt = getExcerpt(content, query);

                resultElement.innerHTML = `
                    <h3>${title}</h3>
                    <p>${excerpt}</p>
                    <button class="view-more" onclick="scrollToElement('${element.id}')">Voir plus</button>
                `;

                return resultElement;
            }

            // Fonction pour obtenir un extrait pertinent
            function getExcerpt(text, query) {
                const position = text.toLowerCase().indexOf(query);
                const start = Math.max(0, position - 50);
                const end = Math.min(text.length, position + query.length + 50);
                let excerpt = text.substring(start, end);

                if (start > 0) excerpt = '...' + excerpt;
                if (end < text.length) excerpt = excerpt + '...';

                return excerpt;
            }

            // Fonction pour scroll vers l'élément trouvé
            window.scrollToElement = function(elementId) {
                const element = document.getElementById(elementId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                    element.classList.add('highlight');
                    setTimeout(() => element.classList.remove('highlight'), 2000);
                }
            }

            // Bouton pour fermer les résultats
            document.getElementById('closeSearch').addEventListener('click', function() {
                document.getElementById('search-results').style.display = 'none';
                document.getElementById('searchInput').value = '';
            });

            // Initialiser Slick Carousel
            $('.carousel').slick({
                dots: true,
                infinite: true,
                speed: 500,
                slidesToShow: 1,
                slidesToScroll: 1,
                autoplay: true,
                autoplaySpeed: 3000,
                arrows: true,
                responsive: [
                    {
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            infinite: true,
                            dots: true
                        }
                    },
                    {
                        breakpoint: 600,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    },
                    {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1
                        }
                    }
                ]
            });
        });
    </script>
</body>
</html>
